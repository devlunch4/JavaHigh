<?xml version="1.0" encoding="UTF-8"?>

<!-- 이 xml 문서는 실행할 SQL문을 작성하는 문서입니다. -->

<!DOCTYPE sqlMap
	PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN"
	"http://ibatis.apache.org/dtd/dtd-map-2.dtd">


<sqlMap namespace="ihotel">

	<!-- parameterClass 는 입력 받는것 -->
	<!-- resultClass 출력되는 것 -->

	<!-- 호텔 체크인 -->
	<update id="updateCheckIn" parameterClass="HVo">
		UPDATE Hotelx SET
		guest_name = #guest_name#
		WHERE room_no = #room_no#
	</update>

	<!-- 호텔 체크아웃 -->
	<update id="updateCheckOut" parameterClass="HVo">
		UPDATE Hotelx SET
		guest_name = '-'
		WHERE room_no = #room_no#
	</update>

	<!-- 객실 상태 확인 -->
	<select id="allRoom" resultClass="HVo">
		<!-- -->
		SELECT* FROM Hotelx
	</select>

	<!-- 객실 상태 확인 -->
	<select id="checkRoom" parameterClass="int" resultClass="int">
		<!-- -->
		SELECT count(*) cnt FROM Hotelx WHERE guest_name = '-' AND room_no =
		#room_no#
	</select>


</sqlMap>